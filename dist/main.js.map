{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./main.js","webpack:///./toy-react.js"],"names":["Square","props","onClick","value","Component","Board","i","squares","renderSquare","Game","state","history","Array","fill","stepNumber","xIsNext","slice","current","length","calculateWinner","setState","concat","step","winner","moves","map","move","desc","jumpTo","status","handleClick","render","document","getElementById","lines","a","b","c","RENDER_TO_DOM","Symbol","ElementWrapper","type","root","createElement","name","match","addEventListener","RegExp","$1","replace","toLowerCase","setAttribute","component","range","createRange","setStart","childNodes","setEnd","deleteContents","insertNode","TextWrapper","text","createTextNode","Object","create","children","_range","push","oldRange","startContainer","startOffset","endContainer","endOffset","newState","rerender","merge","oldState","p","attributes","e","insertChildren","appendChild","parentElement"],"mappings":"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","file":"main.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./main.js\");\n","import { createElement, render, Component } from \"./toy-react\";\n\nclass Square extends Component {\n  constructor(props) {\n    super(props);\n  }\n  render() {\n    const { onClick, value } = this.props;\n    return (\n      <button className=\"square\" onClick={onClick}>\n        {value}\n      </button>\n    );\n  }\n}\n\nclass Board extends Component {\n  renderSquare(i) {\n    return (\n      <Square\n        value={this.props.squares[i]}\n        onClick={() => this.props.onClick(i)}\n      />\n    );\n  }\n\n  render() {\n    return (\n      <div>\n        <div className=\"board-row\">\n          {this.renderSquare(0)}\n          {this.renderSquare(1)}\n          {this.renderSquare(2)}\n        </div>\n        <div className=\"board-row\">\n          {this.renderSquare(3)}\n          {this.renderSquare(4)}\n          {this.renderSquare(5)}\n        </div>\n        <div className=\"board-row\">\n          {this.renderSquare(6)}\n          {this.renderSquare(7)}\n          {this.renderSquare(8)}\n        </div>\n      </div>\n    );\n  }\n}\n\nclass Game extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      history: [\n        {\n          squares: Array(9).fill(null),\n        },\n      ],\n      stepNumber: 0,\n      xIsNext: true,\n    };\n  }\n\n  handleClick(i) {\n    const history = this.state.history.slice(0, this.state.stepNumber + 1);\n    const current = history[history.length - 1];\n    const squares = current.squares.slice();\n    if (calculateWinner(squares) || squares[i]) {\n      return;\n    }\n    squares[i] = this.state.xIsNext ? \"X\" : \"O\";\n    this.setState({\n      history: history.concat([\n        {\n          squares: squares,\n        },\n      ]),\n      stepNumber: history.length,\n      xIsNext: !this.state.xIsNext,\n    });\n  }\n\n  jumpTo(step) {\n    this.setState({\n      stepNumber: step,\n      xIsNext: step % 2 === 0,\n    });\n  }\n\n  render() {\n    const history = this.state.history;\n    const current = history[this.state.stepNumber];\n    const winner = calculateWinner(current.squares);\n\n    const moves = history.map((step, move) => {\n      const desc = move ? \"Go to move #\" + move : \"Go to game start\";\n      return (\n        <li key={move}>\n          <button onClick={() => this.jumpTo(move)}>{desc}</button>\n        </li>\n      );\n    });\n\n    let status;\n    if (winner) {\n      status = \"Winner: \" + winner;\n    } else {\n      status = \"Next player: \" + (this.state.xIsNext ? \"X\" : \"O\");\n    }\n\n    return (\n      <div className=\"game\">\n        <div className=\"game-board\">\n          <Board\n            squares={current.squares}\n            onClick={(i) => this.handleClick(i)}\n          />\n        </div>\n        <div className=\"game-info\">\n          <div>{status}</div>\n          <ol>{moves}</ol>\n        </div>\n      </div>\n    );\n  }\n}\n\n// ========================================\nrender(<Game />, document.getElementById(\"root\"));\n\nfunction calculateWinner(squares) {\n  const lines = [\n    [0, 1, 2],\n    [3, 4, 5],\n    [6, 7, 8],\n    [0, 3, 6],\n    [1, 4, 7],\n    [2, 5, 8],\n    [0, 4, 8],\n    [2, 4, 6],\n  ];\n  for (let i = 0; i < lines.length; i++) {\n    const [a, b, c] = lines[i];\n    if (squares[a] && squares[a] === squares[b] && squares[a] === squares[c]) {\n      return squares[a];\n    }\n  }\n  return null;\n}\n","const RENDER_TO_DOM = Symbol(\"render to dom\");\n\nclass ElementWrapper {\n  constructor(type) {\n    this.root = document.createElement(type);\n  }\n\n  setAttribute(name, value) {\n    if (name.match(/^on([\\s\\S]+)$/)) {\n      this.root.addEventListener(\n        RegExp.$1.replace(/^[\\s\\S]/, (c) => c.toLowerCase()),\n        value\n      );\n    } else if (name.toLowerCase() === \"classname\") {\n      this.root.setAttribute(\"class\", value);\n    } else {\n      this.root.setAttribute(name, value);\n    }\n  }\n\n  appendChild(component) {\n    let range = document.createRange();\n    range.setStart(this.root, this.root.childNodes.length);\n    range.setEnd(this.root, this.root.childNodes.length);\n    component[RENDER_TO_DOM](range);\n  }\n\n  [RENDER_TO_DOM](range) {\n    range.deleteContents();\n    range.insertNode(this.root);\n  }\n}\n\nclass TextWrapper {\n  constructor(text) {\n    this.root = document.createTextNode(text);\n  }\n  [RENDER_TO_DOM](range) {\n    range.deleteContents();\n    range.insertNode(this.root);\n  }\n}\n\nexport class Component {\n  constructor() {\n    this.props = Object.create(null);\n    this.children = [];\n    this._range = null;\n  }\n\n  setAttribute(name, value) {\n    this.props[name] = value;\n  }\n\n  appendChild(c) {\n    this.children.push(c);\n  }\n\n  [RENDER_TO_DOM](range) {\n    this._range = range;\n    this.render()[RENDER_TO_DOM](range);\n  }\n\n  rerender() {\n    let oldRange = this._range;\n\n    let range = document.createRange();\n    range.setStart(oldRange.startContainer, oldRange.startOffset);\n    range.setEnd(oldRange.startContainer, oldRange.startOffset);\n    this[RENDER_TO_DOM](range);\n\n    oldRange.setStart(range.endContainer, range.endOffset);\n    oldRange.deleteContents();\n  }\n\n  setState(newState) {\n    if (this.state === null || typeof this.state !== \"object\") {\n      this.state = newState;\n      this.rerender();\n      return;\n    }\n\n    const merge = (oldState, newState) => {\n      for (let p in newState) {\n        if (oldState[p] === null || typeof oldState[p] !== \"object\") {\n          oldState[p] = newState[p];\n        } else {\n          merge(oldState[p], newState[p]);\n        }\n      }\n    };\n\n    merge(this.state, newState);\n    this.rerender();\n  }\n}\n\nexport const createElement = (type, attributes, ...children) => {\n  let e;\n  if (typeof type === \"string\") {\n    e = new ElementWrapper(type);\n  } else {\n    e = new type();\n  }\n\n  for (let p in attributes) {\n    e.setAttribute(p, attributes[p]);\n  }\n  let insertChildren = (children) => {\n    for (let c of children) {\n      if (typeof c === \"string\") {\n        c = new TextWrapper(c);\n      }\n      if (c === null) {\n        continue;\n      }\n      if (typeof c === \"object\" && c instanceof Array) {\n        insertChildren(c);\n      } else {\n        e.appendChild(c);\n      }\n    }\n  };\n  insertChildren(children);\n\n  return e;\n};\n\nexport const render = (component, parentElement) => {\n  let range = document.createRange();\n  range.setStart(parentElement, 0);\n  range.setEnd(parentElement, parentElement.childNodes.length);\n  range.deleteContents();\n  component[RENDER_TO_DOM](range);\n};\n"],"sourceRoot":""}